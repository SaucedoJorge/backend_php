<?php
$titulo = "Codigo Espagueti";
$participantes = [
    (object)[ 
        "nombre"       => "Facundo Nicolas",
        "apellido"     => "Abendaño",
        "edad"         => 32,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Paula Alejandra",
        "apellido"     => "Aguilera",
        "edad"         => 39,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "RHAUL ENRIQUE",
        "apellido"     => "ALVAREZ SOTILLO",
        "edad"         => 35,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Claro Hernan",
        "apellido"     => "Aranda",
        "edad"         => 41,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Franco Javier",
        "apellido"     => "Barrionuevo",
        "edad"         => 22,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Gastón",
        "apellido"     => "Cabrera",
        "edad"         => 25,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Ezequiel",
        "apellido"     => "Cardoso",
        "edad"         => 43,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Luis Ivan",
        "apellido"     => "Carrera Barrionuevo",
        "edad"         => 34,
        "pais"         => "ECUADOR"
    ],
    (object)[ 
        "nombre"       => "Ana paula",
        "apellido"     => "Cobresi",
        "edad"         => 28,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Tomas",
        "apellido"     => "Cococcioni",
        "edad"         => 25,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Federico",
        "apellido"     => "Costantino",
        "edad"         => 28,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "PABLO",
        "apellido"     => "CREMA",
        "edad"         => 45,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Eduard",
        "apellido"     => "Cuenca",
        "edad"         => 50,
        "pais"         => "CHILE"
    ],
    (object)[ 
        "nombre"       => "Maximiliano",
        "apellido"     => "Dierna",
        "edad"         => 31,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Manuel Gonzalo",
        "apellido"     => "Fariña",
        "edad"         => 25,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Jose Fabian",
        "apellido"     => "Gomez",
        "edad"         => 39,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Emmanuel",
        "apellido"     => "Gómez",
        "edad"         => 21,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Matías Gabriel",
        "apellido"     => "González",
        "edad"         => 23,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Juan Francisco",
        "apellido"     => "Guerra Closier",
        "edad"         => 29,
        "pais"         => "CHILE"
    ],
    (object)[ 
        "nombre"       => "Julián Eduardo",
        "apellido"     => "Labrador Sánchez",
        "edad"         => 29,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Valentina del Valle",
        "apellido"     => "Lozada",
        "edad"         => 24,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Brian Leonel Agustín",
        "apellido"     => "Mamani",
        "edad"         => 23,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Ezequiel",
        "apellido"     => "Martínez",
        "edad"         => 22,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "William ricardo",
        "apellido"     => "Matarrita Carrillo",
        "edad"         => 58,
        "pais"         => "COSTA RICA"
    ],
    (object)[ 
        "nombre"       => "Juan Pablo",
        "apellido"     => "Molinas",
        "edad"         => 36,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Leandro",
        "apellido"     => "Moreno",
        "edad"         => 24,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Luis Renato",
        "apellido"     => "Neyra Quispe",
        "edad"         => 21,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Giuliano Federico",
        "apellido"     => "Ortego",
        "edad"         => 28,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Federico",
        "apellido"     => "Otaran",
        "edad"         => 27,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Pablo Matías",
        "apellido"     => "Peralta",
        "edad"         => 33,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Fernando",
        "apellido"     => "Pereyra Alvarez",
        "edad"         => 32,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Federico",
        "apellido"     => "Pfund",
        "edad"         => 24,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Julian",
        "apellido"     => "Recarte",
        "edad"         => 27,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Juan Ignacio",
        "apellido"     => "Rodriguez",
        "edad"         => 26,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Melina",
        "apellido"     => "Roman Cordoba",
        "edad"         => 26,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "César",
        "apellido"     => "Rosales Cagliano",
        "edad"         => 39,
        "pais"         => "CHILE"
    ],
    (object)[ 
        "nombre"       => "Luis",
        "apellido"     => "Saucedo",
        "edad"         => 39,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Ivana Laura",
        "apellido"     => "Scaglia",
        "edad"         => 45,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Francisco",
        "apellido"     => "Solana",
        "edad"         => 20,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Agustin",
        "apellido"     => "Soteras",
        "edad"         => 28,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Agustín facundo",
        "apellido"     => "Tejero",
        "edad"         => 29,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Julian",
        "apellido"     => "Valenzuela",
        "edad"         => 30,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Ezequiel",
        "apellido"     => "Vallejos",
        "edad"         => 24,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Erick",
        "apellido"     => "Vásquez",
        "edad"         => 0,
        "pais"         => ""
    ],
    (object)[ 
        "nombre"       => "Paul",
        "apellido"     => "Verlaine",
        "edad"         => 26,
        "pais"         => "GUATEMALA"
    ],
    (object)[ 
        "nombre"       => "Alan Ignacio",
        "apellido"     => "Vidal",
        "edad"         => 19,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Stheeven",
        "apellido"     => "Coc",
        "edad"         => 23,
        "pais"         => "GUATEMALA"
    ],
    (object)[ 
        "nombre"       => "Darío",
        "apellido"     => "García",
        "edad"         => 45,
        "pais"         => "MENDOZA"
    ],
    (object)[ 
        "nombre"       => "Alondra Nazarena",
        "apellido"     => "Ilari",
        "edad"         => 29,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Georgina",
        "apellido"     => "Lucero",
        "edad"         => 39,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Leonel",
        "apellido"     => "Maza",
        "edad"         => 29,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Facundo",
        "apellido"     => "Pescaglini",
        "edad"         => 27,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Alexis",
        "apellido"     => "Ramallo",
        "edad"         => 32,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Milca Merecedes",
        "apellido"     => "Salas",
        "edad"         => 21,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Jorge Luis",
        "apellido"     => "Saucedo",
        "edad"         => 23,
        "pais"         => "ARGENTINA"
    ],
    (object)[ 
        "nombre"       => "Victor Ariel",
        "apellido"     => "Bustamante",
        "edad"         => 28,
        "pais"         => "ARGENTINA"
    ]
];

if (!empty($_REQUEST['search'])) {
    $search = $_REQUEST['search'];
    $array = []; 
    foreach ($participantes as $key => $par) {
        if (stristr($par->nombre, $search) || stristr($par->apellido, $search)) {
            $array[] = $par;
        }
    }
}else{
    $array = $participantes;
}
?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><?php echo $titulo; ?></title>
</head>
<body>
<h1> <?php echo $titulo; ?></h1>
<form method="GET">
    <input type="search" name="search">
    <input type="submit" value="Buscar">
</form>
<table border="1">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Edad</th>
        </tr>
    </thead>
    <tbody>
        <?php        
            foreach ($array as $p) {
                echo "<tr>";
                echo "<td>".$p->nombre."</td>";
                echo "<td>".$p->apellido."</td>";
                echo "<td>".$p->edad."</td>";
                echo "</tr>";
            }
        ?>
    </tbody>
</table>
</body>
</html>